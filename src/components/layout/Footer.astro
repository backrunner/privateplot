---
import { useConstsWithRuntime } from '../../consts';

const { ENABLE_COPYRIGHT, ENABLE_POWERED_BY } = useConstsWithRuntime(Astro.locals.runtime);
---

<footer class="page-footer" transition:persist>
	<div>
		{ENABLE_POWERED_BY && (
			<div class="icon-buttons">
				<a href="/rss.xml" target="_blank" rel="noopener noreferrer" class="icon-button" title="RSS Feed">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19t.588-1.412T5 17t1.413.588T7 19t-.587 1.413T5 21m13.5 0q-.65 0-1.088-.475T16.9 19.4q-.275-2.425-1.312-4.537T12.9 11.1T9.138 8.413T4.6 7.1q-.65-.075-1.125-.512T3 5.5t.45-1.062t1.075-.363q3.075.275 5.763 1.563t4.737 3.337t3.338 4.738t1.562 5.762q.05.625-.363 1.075T18.5 21m-6 0q-.625 0-1.075-.437T10.85 19.5q-.225-1.225-.787-2.262T8.65 15.35t-1.888-1.412T4.5 13.15q-.625-.125-1.062-.575T3 11.5q0-.65.45-1.075t1.075-.325q1.825.25 3.413 1.063t2.837 2.062t2.063 2.838t1.062 3.412q.1.625-.325 1.075T12.5 21"/></svg>
				</a>
				<a href="https://github.com/backrunner/privateplot" target="_blank" rel="noopener noreferrer" class="icon-button" title="GitHub Repository">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
				</a>
			</div>
		)}
		{ENABLE_COPYRIGHT && (
			<p>Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="license noopener noreferrer">CC BY-SA 4.0</a></p>
		)}
	</div>
</footer>

<style>
	.page-footer {
		margin-top: 6rem;
		margin-bottom: 2rem;
		font-size: 0.75rem;
		text-align: right;

		p {
			margin-top: 0;
			margin-bottom: 0.25rem;
		}

		p:last-child {
			margin-bottom: 0;
		}

		p, a {
			color: rgba(255, 255, 255, 0.06);
		}

		a {
			color: inherit;
			text-decoration: underline;
			transition: color 0.3s ease;
		}
		a:hover {
			color: rgba(255, 255, 255, 0.5);
		}

		.icon-buttons {
			display: flex;
			justify-content: flex-end;
			gap: 0.375rem;
			margin-bottom: 0.5rem;
		}

		.icon-button {
			color: rgba(255, 255, 255, 0.06);
			text-decoration: none;
			transition: color 0.3s ease;
			display: inline-flex;
			align-items: center;
			justify-content: center;
		}

		.icon-button:hover {
			color: rgba(255, 255, 255, 0.5);
		}

		.icon-button svg {
			width: 20px;
			height: 20px;
		}

		/* Mobile styles for devices below 540px */
		@media (max-width: 540px) {
			margin-top: 3rem;
			margin-bottom: 1rem;
			font-size: 0.625rem;

			p {
				margin-bottom: 0.15rem;
			}

			.icon-buttons {
				gap: 0.5rem;
			}

			.icon-button svg {
				width: 18px;
				height: 18px;
			}
		}
	}
</style>
